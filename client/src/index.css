@tailwind base;
@tailwind components;
@tailwind utilities;

/* Responsive Breakpoints for All Devices */
/* Mobile First Approach with Auto-Detection */

/* Base styles for smallest devices (320px+) */
:root {
  /* Responsive font sizes using clamp() for auto-scaling */
  --font-xs: clamp(0.625rem, 0.5rem + 0.5vw, 0.75rem);
  --font-sm: clamp(0.75rem, 0.6rem + 0.6vw, 0.875rem);
  --font-base: clamp(0.875rem, 0.7rem + 0.7vw, 1rem);
  --font-lg: clamp(1rem, 0.8rem + 0.8vw, 1.125rem);
  --font-xl: clamp(1.125rem, 0.9rem + 0.9vw, 1.25rem);
  --font-2xl: clamp(1.25rem, 1rem + 1vw, 1.5rem);
  --font-3xl: clamp(1.5rem, 1.2rem + 1.2vw, 1.875rem);
  --font-4xl: clamp(1.875rem, 1.5rem + 1.5vw, 2.25rem);
  
  /* Responsive spacing using fluid values */
  --space-xs: clamp(0.25rem, 0.2rem + 0.2vw, 0.5rem);
  --space-sm: clamp(0.5rem, 0.4rem + 0.4vw, 0.75rem);
  --space-md: clamp(0.75rem, 0.6rem + 0.6vw, 1rem);
  --space-lg: clamp(1rem, 0.8rem + 0.8vw, 1.5rem);
  --space-xl: clamp(1.5rem, 1.2rem + 1.2vw, 2rem);
  --space-2xl: clamp(2rem, 1.6rem + 1.6vw, 3rem);
  --space-3xl: clamp(3rem, 2.4rem + 2.4vw, 4rem);
  
  /* Responsive container widths */
  --container-xs: min(100%, 20rem);
  --container-sm: min(100%, 24rem);
  --container-md: min(100%, 28rem);
  --container-lg: min(100%, 32rem);
  --container-xl: min(100%, 36rem);
  --container-2xl: min(100%, 42rem);
  --container-3xl: min(100%, 48rem);
  --container-full: min(100%, 80rem);
  
  /* Responsive grid columns */
  --grid-cols-mobile: 1;
  --grid-cols-tablet: 2;
  --grid-cols-desktop: 3;
  --grid-cols-wide: 4;
  --grid-cols-ultra: 6;
}

:root {
  --background: hsl(0, 0%, 100%);
  --foreground: hsl(20, 14.3%, 4.1%);
  --muted: hsl(60, 4.8%, 95.9%);
  --muted-foreground: hsl(25, 5.3%, 44.7%);
  --popover: hsl(0, 0%, 100%);
  --popover-foreground: hsl(20, 14.3%, 4.1%);
  --card: hsl(0, 0%, 100%);
  --card-foreground: hsl(20, 14.3%, 4.1%);
  --border: hsl(20, 5.9%, 90%);
  --input: hsl(20, 5.9%, 90%);
  --primary: hsl(207, 90%, 54%);
  --primary-foreground: hsl(211, 100%, 99%);
  --secondary: hsl(60, 4.8%, 95.9%);
  --secondary-foreground: hsl(24, 9.8%, 10%);
  --accent: hsl(60, 4.8%, 95.9%);
  --accent-foreground: hsl(24, 9.8%, 10%);
  --destructive: hsl(0, 84.2%, 60.2%);
  --destructive-foreground: hsl(60, 9.1%, 97.8%);
  --ring: hsl(20, 14.3%, 4.1%);
  --radius: 0.5rem;
  
  /* Technical colors for electrical interface */
  --technical-50: hsl(0, 0%, 98%);
  --technical-100: hsl(0, 0%, 96%);
  --technical-200: hsl(0, 0%, 93%);
  --technical-300: hsl(0, 0%, 88%);
  --technical-400: hsl(0, 0%, 74%);
  --technical-500: hsl(0, 0%, 62%);
  --technical-600: hsl(0, 0%, 46%);
  --technical-700: hsl(0, 0%, 38%);
  --technical-800: hsl(0, 0%, 26%);
  --technical-900: hsl(0, 0%, 13%);
}

.dark {
  --background: hsl(240, 10%, 3.9%);
  --foreground: hsl(0, 0%, 98%);
  --muted: hsl(240, 3.7%, 15.9%);
  --muted-foreground: hsl(240, 5%, 64.9%);
  --popover: hsl(240, 10%, 3.9%);
  --popover-foreground: hsl(0, 0%, 98%);
  --card: hsl(240, 10%, 3.9%);
  --card-foreground: hsl(0, 0%, 98%);
  --border: hsl(240, 3.7%, 15.9%);
  --input: hsl(240, 3.7%, 15.9%);
  --primary: hsl(207, 90%, 54%);
  --primary-foreground: hsl(211, 100%, 99%);
  --secondary: hsl(240, 3.7%, 15.9%);
  --secondary-foreground: hsl(0, 0%, 98%);
  --accent: hsl(240, 3.7%, 15.9%);
  --accent-foreground: hsl(0, 0%, 98%);
  --destructive: hsl(0, 62.8%, 30.6%);
  --destructive-foreground: hsl(0, 0%, 98%);
  --ring: hsl(240, 4.9%, 83.9%);
  --radius: 0.5rem;
  
  /* Dark technical colors */
  --technical-50: hsl(0, 0%, 98%);
  --technical-100: hsl(0, 0%, 96%);
  --technical-200: hsl(0, 0%, 93%);
  --technical-300: hsl(0, 0%, 88%);
  --technical-400: hsl(0, 0%, 74%);
  --technical-500: hsl(0, 0%, 62%);
  --technical-600: hsl(0, 0%, 46%);
  --technical-700: hsl(0, 0%, 38%);
  --technical-800: hsl(240, 3.7%, 15.9%);
  --technical-900: hsl(240, 10%, 3.9%);
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply font-sans antialiased bg-background text-foreground;
    margin: 0;
    padding: 0;
    width: 100vw;
    height: 100vh;
    overflow-x: hidden;
    box-sizing: border-box;
  }
  
  html {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    box-sizing: border-box;
  }
  
  *, *:before, *:after {
    box-sizing: inherit;
  }
}

/* Auto-detecting Screen Layout Classes */
/* Ultra Small Devices: Smart Watches, Small IoT Displays (240px - 320px) */
@media (max-width: 320px) {
  :root {
    --grid-cols-mobile: 1;
    --container-width: 100%;
    --sidebar-width: 100vw;
    --panel-width: 100vw;
  }
  
  .responsive-container {
    padding: var(--space-xs);
    font-size: var(--font-xs);
  }
  
  .responsive-grid {
    grid-template-columns: repeat(1, 1fr);
    gap: var(--space-xs);
  }
  
  .responsive-text {
    font-size: var(--font-xs);
    line-height: 1.2;
  }
  
  .mobile-ultra-small {
    display: block !important;
  }
  
  .mobile-ultra-small .sidebar {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 60px;
    z-index: 1000;
  }
  
  .mobile-ultra-small .main-content {
    margin-top: 60px;
    padding: var(--space-xs);
  }
}

/* Small Mobile Devices: Phones Portrait (320px - 480px) */
@media (min-width: 320px) and (max-width: 480px) {
  :root {
    --grid-cols-mobile: 1;
    --container-width: 100%;
    --sidebar-width: 100vw;
    --panel-width: 100vw;
  }
  
  .responsive-container {
    padding: var(--space-sm);
    font-size: var(--font-sm);
  }
  
  .responsive-grid {
    grid-template-columns: repeat(1, 1fr);
    gap: var(--space-sm);
  }
  
  .responsive-text {
    font-size: var(--font-sm);
    line-height: 1.3;
  }
  
  .mobile-stack {
    flex-direction: column !important;
  }
  
  .mobile-full-width {
    width: 100% !important;
  }
  
  .mobile-hide {
    display: none !important;
  }
  
  .mobile-small .configurator-layout {
    flex-direction: column;
  }
  
  .mobile-small .sidebar {
    width: 100%;
    height: auto;
    order: -1;
  }
  
  .mobile-small .main-canvas {
    width: 100%;
    height: 50vh;
  }
  
  .mobile-small .specs-panel {
    width: 100%;
    height: auto;
    max-height: 40vh;
    overflow-y: auto;
  }
}

/* Large Mobile/Small Tablet: Phones Landscape, Small Tablets (480px - 768px) */
@media (min-width: 480px) and (max-width: 768px) {
  :root {
    --grid-cols-mobile: 2;
    --container-width: 95%;
    --sidebar-width: min(320px, 40vw);
    --panel-width: min(320px, 40vw);
  }
  
  .responsive-container {
    padding: var(--space-md);
    font-size: var(--font-base);
  }
  
  .responsive-grid {
    grid-template-columns: repeat(var(--grid-cols-tablet), 1fr);
    gap: var(--space-md);
  }
  
  .responsive-text {
    font-size: var(--font-base);
    line-height: 1.4;
  }
  
  .tablet-stack {
    flex-direction: column !important;
  }
  
  .tablet-two-col {
    grid-template-columns: repeat(2, 1fr) !important;
  }
  
  .tablet-small .configurator-layout {
    flex-direction: row;
  }
  
  .tablet-small .sidebar {
    width: var(--sidebar-width);
    height: 100vh;
  }
  
  .tablet-small .main-canvas {
    flex: 1;
    height: 100vh;
  }
  
  .tablet-small .specs-panel {
    width: var(--panel-width);
    height: 100vh;
    overflow-y: auto;
  }
}

/* Medium Tablets: Standard Tablets Portrait (768px - 1024px) */
@media (min-width: 768px) and (max-width: 1024px) {
  :root {
    --grid-cols-mobile: 2;
    --grid-cols-tablet: 3;
    --container-width: 90%;
    --sidebar-width: min(360px, 35vw);
    --panel-width: min(360px, 35vw);
  }
  
  .responsive-container {
    padding: var(--space-lg);
    font-size: var(--font-lg);
  }
  
  .responsive-grid {
    grid-template-columns: repeat(var(--grid-cols-tablet), 1fr);
    gap: var(--space-lg);
  }
  
  .responsive-text {
    font-size: var(--font-lg);
    line-height: 1.5;
  }
  
  .tablet-show {
    display: block !important;
  }
  
  .tablet-flex {
    display: flex !important;
  }
  
  .tablet-medium .configurator-layout {
    display: flex;
    height: 100vh;
  }
  
  .tablet-medium .sidebar {
    width: var(--sidebar-width);
    min-width: 280px;
  }
  
  .tablet-medium .main-canvas {
    flex: 1;
    min-width: 0;
  }
  
  .tablet-medium .specs-panel {
    width: var(--panel-width);
    min-width: 280px;
  }
}

/* Large Tablets/Small Desktops: Tablets Landscape, Small Laptops (1024px - 1280px) */
@media (min-width: 1024px) and (max-width: 1280px) {
  :root {
    --grid-cols-tablet: 3;
    --grid-cols-desktop: 4;
    --container-width: 85%;
    --sidebar-width: min(400px, 30vw);
    --panel-width: min(400px, 30vw);
  }
  
  .responsive-container {
    padding: var(--space-xl);
    font-size: var(--font-xl);
  }
  
  .responsive-grid {
    grid-template-columns: repeat(var(--grid-cols-desktop), 1fr);
    gap: var(--space-xl);
  }
  
  .responsive-text {
    font-size: var(--font-xl);
    line-height: 1.6;
  }
  
  .desktop-show {
    display: block !important;
  }
  
  .desktop-grid {
    display: grid !important;
  }
  
  .desktop-small .configurator-layout {
    display: flex;
    height: 100vh;
  }
  
  .desktop-small .sidebar {
    width: var(--sidebar-width);
    min-width: 320px;
  }
  
  .desktop-small .main-canvas {
    flex: 1;
    min-width: 400px;
  }
  
  .desktop-small .specs-panel {
    width: var(--panel-width);
    min-width: 320px;
  }
}

/* Standard Desktops: Laptops, Standard Monitors (1280px - 1920px) */
@media (min-width: 1280px) and (max-width: 1920px) {
  :root {
    --grid-cols-desktop: 4;
    --grid-cols-wide: 5;
    --container-width: 80%;
    --sidebar-width: min(480px, 25vw);
    --panel-width: min(480px, 25vw);
  }
  
  .responsive-container {
    padding: var(--space-2xl);
    font-size: var(--font-2xl);
  }
  
  .responsive-grid {
    grid-template-columns: repeat(var(--grid-cols-wide), 1fr);
    gap: var(--space-2xl);
  }
  
  .responsive-text {
    font-size: var(--font-2xl);
    line-height: 1.7;
  }
  
  .desktop-large-show {
    display: block !important;
  }
  
  .desktop-standard .configurator-layout {
    display: flex;
    height: 100vh;
  }
  
  .desktop-standard .sidebar {
    width: var(--sidebar-width);
    min-width: 380px;
  }
  
  .desktop-standard .main-canvas {
    flex: 1;
    min-width: 600px;
  }
  
  .desktop-standard .specs-panel {
    width: var(--panel-width);
    min-width: 380px;
  }
}

/* Wide Screens: Large Monitors, Ultrawide (1920px - 2560px) */
@media (min-width: 1920px) and (max-width: 2560px) {
  :root {
    --grid-cols-wide: 6;
    --grid-cols-ultra: 8;
    --container-width: 75%;
    --sidebar-width: min(560px, 22vw);
    --panel-width: min(560px, 22vw);
  }
  
  .responsive-container {
    padding: var(--space-3xl);
    font-size: var(--font-3xl);
  }
  
  .responsive-grid {
    grid-template-columns: repeat(var(--grid-cols-ultra), 1fr);
    gap: var(--space-3xl);
  }
  
  .responsive-text {
    font-size: var(--font-3xl);
    line-height: 1.8;
  }
  
  .wide-screen-show {
    display: block !important;
  }
  
  .wide-screen-grid {
    grid-template-columns: repeat(6, 1fr) !important;
  }
  
  .wide-screen .configurator-layout {
    display: flex;
    height: 100vh;
    max-width: 2400px;
    margin: 0 auto;
  }
  
  .wide-screen .sidebar {
    width: var(--sidebar-width);
    min-width: 440px;
  }
  
  .wide-screen .main-canvas {
    flex: 1;
    min-width: 800px;
  }
  
  .wide-screen .specs-panel {
    width: var(--panel-width);
    min-width: 440px;
  }
}

/* Ultra Wide & TV Screens: 4K, 8K, Large TVs (2560px+) */
@media (min-width: 2560px) {
  :root {
    --grid-cols-ultra: 10;
    --container-width: 70%;
    --sidebar-width: min(640px, 20vw);
    --panel-width: min(640px, 20vw);
  }
  
  .responsive-container {
    padding: var(--space-3xl);
    font-size: var(--font-4xl);
  }
  
  .responsive-grid {
    grid-template-columns: repeat(var(--grid-cols-ultra), 1fr);
    gap: var(--space-3xl);
  }
  
  .responsive-text {
    font-size: var(--font-4xl);
    line-height: 1.9;
  }
  
  .ultra-wide-show {
    display: block !important;
  }
  
  .tv-optimized {
    font-size: clamp(1.5rem, 2vw, 3rem) !important;
    padding: clamp(1rem, 3vw, 4rem) !important;
  }
  
  .ultra-wide .configurator-layout {
    display: flex;
    height: 100vh;
    max-width: 3200px;
    margin: 0 auto;
  }
  
  .ultra-wide .sidebar {
    width: var(--sidebar-width);
    min-width: 520px;
  }
  
  .ultra-wide .main-canvas {
    flex: 1;
    min-width: 1200px;
  }
  
  .ultra-wide .specs-panel {
    width: var(--panel-width);
    min-width: 520px;
  }
}

/* High DPI/Retina Display Optimizations */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .responsive-text {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  .responsive-icon {
    transform: scale(0.8);
  }
}

/* Orientation-specific styles */
@media (orientation: portrait) {
  .portrait-stack {
    flex-direction: column !important;
  }
  
  .portrait-full-width {
    width: 100% !important;
  }
  
  .portrait-layout .configurator-layout {
    flex-direction: column;
  }
  
  .portrait-layout .sidebar {
    width: 100%;
    height: auto;
    max-height: 30vh;
    overflow-y: auto;
  }
  
  .portrait-layout .main-canvas {
    flex: 1;
    height: auto;
    min-height: 40vh;
  }
  
  .portrait-layout .specs-panel {
    width: 100%;
    height: auto;
    max-height: 30vh;
    overflow-y: auto;
  }
}

@media (orientation: landscape) {
  .landscape-flex {
    display: flex !important;
  }
  
  .landscape-grid {
    display: grid !important;
  }
  
  .landscape-layout .configurator-layout {
    flex-direction: row;
  }
}

/* Accessibility and reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Print styles for documentation export */
@media print {
  .print-hide {
    display: none !important;
  }
  
  .print-full-width {
    width: 100% !important;
  }
  
  .responsive-container {
    padding: 0.5in;
    font-size: 10pt;
  }
}

/* Container Queries for Advanced Responsive Design */
@container (min-width: 320px) {
  .container-responsive {
    font-size: var(--font-sm);
  }
}

@container (min-width: 768px) {
  .container-responsive {
    font-size: var(--font-base);
  }
}

@container (min-width: 1024px) {
  .container-responsive {
    font-size: var(--font-lg);
  }
}

@layer utilities {
  .technical-50 { color: hsl(var(--technical-50)); }
  .technical-100 { color: hsl(var(--technical-100)); }
  .technical-200 { color: hsl(var(--technical-200)); }
  .technical-300 { color: hsl(var(--technical-300)); }
  .technical-400 { color: hsl(var(--technical-400)); }
  .technical-500 { color: hsl(var(--technical-500)); }
  .technical-600 { color: hsl(var(--technical-600)); }
  .technical-700 { color: hsl(var(--technical-700)); }
  .technical-800 { color: hsl(var(--technical-800)); }
  .technical-900 { color: hsl(var(--technical-900)); }
  
  .bg-technical-50 { background-color: hsl(var(--technical-50)); }
  .bg-technical-100 { background-color: hsl(var(--technical-100)); }
  .bg-technical-200 { background-color: hsl(var(--technical-200)); }
  .bg-technical-300 { background-color: hsl(var(--technical-300)); }
  .bg-technical-400 { background-color: hsl(var(--technical-400)); }
  .bg-technical-500 { background-color: hsl(var(--technical-500)); }
  .bg-technical-600 { background-color: hsl(var(--technical-600)); }
  .bg-technical-700 { background-color: hsl(var(--technical-700)); }
  .bg-technical-800 { background-color: hsl(var(--technical-800)); }
  .bg-technical-900 { background-color: hsl(var(--technical-900)); }
  
  .border-technical-200 { border-color: hsl(var(--technical-200)); }
  .border-technical-300 { border-color: hsl(var(--technical-300)); }
  .border-technical-600 { border-color: hsl(var(--technical-600)); }
  .border-technical-700 { border-color: hsl(var(--technical-700)); }
  
  .text-technical-50 { color: hsl(var(--technical-50)); }
  .text-technical-100 { color: hsl(var(--technical-100)); }
  .text-technical-200 { color: hsl(var(--technical-200)); }
  .text-technical-300 { color: hsl(var(--technical-300)); }
  .text-technical-400 { color: hsl(var(--technical-400)); }
  .text-technical-500 { color: hsl(var(--technical-500)); }
  .text-technical-600 { color: hsl(var(--technical-600)); }
  .text-technical-700 { color: hsl(var(--technical-700)); }
  .text-technical-800 { color: hsl(var(--technical-800)); }
  .text-technical-900 { color: hsl(var(--technical-900)); }
}

/* Canvas grid pattern */
.canvas-grid {
  background-image: radial-gradient(circle, hsl(var(--technical-500)) 1px, transparent 1px);
  background-size: 20px 20px;
}

/* Draggable component styles */
.component-dragging {
  opacity: 0.5;
  transform: rotate(5deg);
}

.drop-zone-active {
  background-color: hsl(var(--primary) / 0.1);
  border: 2px dashed hsl(var(--primary));
}

/* Electrical symbol styles */
.electrical-symbol {
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1));
}

/* Wire connection lines */
.wire-connection {
  stroke: hsl(var(--primary));
  stroke-width: 4;
  fill: none;
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1));
}

/* Hover effects for interactive elements */
.component-hover:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

/* Tab active state */
.tab-active {
  border-bottom-color: hsl(var(--primary));
  color: hsl(var(--primary));
  background-color: hsl(var(--primary) / 0.1);
}
